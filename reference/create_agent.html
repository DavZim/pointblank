<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a pointblank agent object — create_agent • pointblank</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a pointblank agent object — create_agent" />
<meta property="og:description" content="Creates an agent object, which is used in a data quality reporting
workflow. The overall aim of this workflow is to generate some reporting on
the state of data quality for a target table. We can supply as many
validation step functions as the user wishes to write to get validation
coverage on that table. We supply a single table to create_agent(), which
becomes the sole focus of the data quality analysis. After application of
one or more validation step functions, we need to use the interrogate()
function to complete the process; the validation step functions, when called
on an agent, are merely instructions up to that point. The agent then has
information on how the interrogation went. Reporting of the interrogation can
be performed with the get_agent_report() function. If we just need to know
whether all validations completely passed (i.e., all steps had no failing
test units), the all_passed() function should be used." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pointblank</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/intro-to-pointblank.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rich-iannone/pointblank">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a pointblank agent object</h1>
    <small class="dont-index">Source: <a href='https://github.com/rich-iannone/pointblank/blob/master/R/create_agent.R'><code>R/create_agent.R</code></a></small>
    <div class="hidden name"><code>create_agent.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates an <em>agent</em> object, which is used in a <em>data quality reporting</em>
workflow. The overall aim of this workflow is to generate some reporting on
the state of data quality for a target table. We can supply as many
validation step functions as the user wishes to write to get validation
coverage on that table. We supply a single table to <code>create_agent()</code>, which
becomes the sole focus of the data quality analysis. After application of
one or more validation step functions, we need to use the <code><a href='interrogate.html'>interrogate()</a></code>
function to complete the process; the validation step functions, when called
on an agent, are merely instructions up to that point. The <em>agent</em> then has
information on how the interrogation went. Reporting of the interrogation can
be performed with the <code><a href='get_agent_report.html'>get_agent_report()</a></code> function. If we just need to know
whether all validations completely passed (i.e., all steps had no failing
test units), the <code><a href='all_passed.html'>all_passed()</a></code> function should be used.</p>
    </div>

    <pre class="usage"><span class='fu'>create_agent</span>(
  <span class='no'>tbl</span>,
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>actions</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>end_fns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>embed_report</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>reporting_lang</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tbl</th>
      <td><p>The input table. This can be a data frame, a tibble, or a
<code>tbl_dbi</code> object.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>An optional name for the validation plan that the agent will
eventually carry out during the interrogation process. If no value is
provided, a name will be generated based on the current system time.</p></td>
    </tr>
    <tr>
      <th>actions</th>
      <td><p>A list containing threshold levels so that all validation
steps can react accordingly when exceeding the set levels. This is to be
created with the <code><a href='action_levels.html'>action_levels()</a></code> helper function. Should an action levels
list be used for specific validation step, any default set here will be
overridden.</p></td>
    </tr>
    <tr>
      <th>end_fns</th>
      <td><p>A list of functions that should be performed at the end of an
interrogation.</p></td>
    </tr>
    <tr>
      <th>embed_report</th>
      <td><p>An option to embed a <strong>gt</strong>-based validation report into
the <code>ptblank_agent</code> object. If <code>FALSE</code> (the default) then the table object
will be not generated and available with the agent upon returning from the
interrogation.</p></td>
    </tr>
    <tr>
      <th>reporting_lang</th>
      <td><p>The language to use for automatic creation of briefs
(short descriptions for each validation step). By default, <code>NULL</code> will
create English (<code>"en"</code>) text. Other options include French (<code>"fr"</code>),
German (<code>"de"</code>), Italian (<code>"it"</code>), and Spanish (<code>"es"</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>ptblank_agent</code> object.</p>
    <h2 class="hasAnchor" id="function-id"><a class="anchor" href="#function-id"></a>Function ID</h2>

    

<p>1-2</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Planning and Prep: 
<code><a href='action_levels.html'>action_levels</a>()</code>,
<code><a href='col_schema.html'>col_schema</a>()</code>,
<code><a href='scan_data.html'>scan_data</a>()</code>,
<code><a href='validate_rmd.html'>validate_rmd</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Create a simple table with a</span>
<span class='co'># column of numerical values</span>
<span class='no'>tbl</span> <span class='kw'>&lt;-</span>
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/reexports.html'>tibble</a></span>(<span class='kw'>a</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>7</span>))

<span class='co'># Create a pointblank `agent` object</span>
<span class='no'>agent</span> <span class='kw'>&lt;-</span> <span class='fu'>create_agent</span>(<span class='kw'>tbl</span> <span class='kw'>=</span> <span class='no'>tbl</span>)

<span class='co'># Then, as with any `ptblank_agent`</span>
<span class='co'># object, we can add validation steps</span>
<span class='co'># to the validation plan and then</span>
<span class='co'># eventually use `interrogate()`</span>
<span class='co'># to perform the validations; here,</span>
<span class='co'># with a single validation step, we</span>
<span class='co'># expect that values in column `a`</span>
<span class='co'># are always greater than 4</span>
<span class='no'>agent</span> <span class='kw'>&lt;-</span>
  <span class='no'>agent</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='col_vals_gt.html'>col_vals_gt</a></span>(<span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='no'>a</span>), <span class='fl'>4</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='interrogate.html'>interrogate</a></span>()</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Richard Iannone.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


